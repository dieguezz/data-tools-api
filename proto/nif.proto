syntax = "proto3";

option go_package="github.com/dieguezz/nif-tools/protopb";

package proto;

import "google/api/annotations.proto";

service NifApi {
    rpc GetControlDigit(ControlDigitRequest) returns (ControlDigitResponse) {
        option (google.api.http) = {
            get: "/controldigit/{nif}"
        };
    };
    rpc GetType(TypeRequest) returns (TypeResponse) {
        option (google.api.http) = {
            get: "/type/{nif}"
        };
    };
    rpc GetParsedNIF(ParsedNIFRequest) returns (ParsedNIFResponse) {
        option (google.api.http) = {
            get: "/parse/{nif}"
        };
    };
}

message ControlDigitRequest {
    string nif = 1;
}

message ControlDigitResponse {
    string control_digit = 1;
}

message ParsedNIFRequest {
    string nif = 1;
}

message ParsedNIFResponse {
    int32 number = 1;
    string kind = 2;
    string control = 3;
}

message TypeRequest {
    string nif = 1;
}

message TypeResponse {
    string type = 1;
}
